# Проект модуля 2

Проект создан для получения практики в области изучения языка Python.

## Установка:
### 1. Копируем проект:
```
git clone https://github.com/Apeecks/project_m2.git
```
### 2. Устанавливаем зависимости:
```
poetry install
```
## Тестирование
Проект покрыт тестами. Для их запуска выполните команду:
```commandline
pytest
```
```commandline
pytest --cov
```
## Описание и примеры работы функций:

#### Модуль masks:

- Функция 
get_mask_card_number
 принимает на вход номер карты и возвращает ее маску. Номер карты замаскирован и отображается в формате 
XXXX XX** **** XXXX
, где 
X
 — это цифра номера. То есть видны первые 6 цифр и последние 4 цифры, остальные символы отображаются звездочками, номер разбит по блокам по 4 цифры, разделенным пробелами. Пример работы функции:
```commandline
7000792289606361     # входной аргумент
7000 79** **** 6361  # выход функции
```
Функция 
get_mask_account
 принимает на вход номер счета и возвращает его маску. Номер счета замаскирован и отображается в формате 
**XXXX
, где 
X
 — это цифра номера. То есть видны только последние 4 цифры номера, а перед ними — две звездочки. Пример работы функции:
```commandline
73654108430135874305  # входной аргумент
**4305  # выход функции
```

#### Модуль widget:
- Функция mask_account_card возвращает строку с замаскированным номером. Для карт и счетов использует разные типы маскировки.
```commandline
# Пример для карты
Visa Platinum 7000792289606361  # входной аргумент
Visa Platinum 7000 79** **** 6361  # выход функции

# Пример для счета
Счет 73654108430135874305  # входной аргумент
Счет **4305  # выход функции
```
- Функция get_date принимает на вход строку с датой в формате 
`2024-03-11T02:26:18.671407`
 и возвращает строку с датой в формате 
`"ДД.ММ.ГГГГ"
 (
"11.03.2024"
).`

#### Модуль processing:

- Функция 
filter_by_state принимает список словарей и опционально значение для ключа 
state
 (по умолчанию 
`EXECUTED` 
). Функция возвращает новый список словарей, содержащий только те словари, у которых ключ 
state
 соответствует указанному значению.

```commandline
# Выход функции со статусом по умолчанию 'EXECUTED'
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]

# Выход функции, если вторым аргументов передано 'CANCELED'
[{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]
```
- Функция 
sort_by_date принимает список словарей и необязательный параметр, задающий порядок сортировки (по умолчанию — убывание). Функция должна возвращать новый список, отсортированный по дате (
date
).
```commandline
# Выход функции (сортировка по убыванию, т. е. сначала самые последние операции)
[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, {'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}, {'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, {'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]
```
#### Модуль generators

- Функция 
filter_by_currency возвращает итератор, который поочередно выдает транзакции, где валюта операции соответствует заданной (например, USD)
```commandline
usd_transactions = filter_by_currency(transactions, "USD")
for _ in range(2):
    print(next(usd_transactions))

>>> {
          "id": 939719570,
          "state": "EXECUTED",
          "date": "2018-06-30T02:08:58.425572",
          "operationAmount": {
              "amount": "9824.07",
              "currency": {
                  "name": "USD",
                  "code": "USD"
              }
          }
```
- Генератор
transaction_descriptions принимает список словарей с транзакциями и возвращает описание каждой операции по очереди.
```commandline
descriptions = transaction_descriptions(transactions)
for _ in range(5):
    print(next(descriptions))

>>> Перевод организации
    Перевод со счета на счет
    Перевод со счета на счет
    Перевод с карты на карту
    Перевод организации
```
- Генератор
card_number_generator выдает номера банковских карт в формате
```XXXX XXXX XXXX XXXX```, где ```X``` — цифра номера карты. 
Генератор может сгенерировать номера карт в заданном диапазоне от 0000 0000 0000 0001 до 9999 9999 9999 9999.
Генератор должен принимать начальное и конечное значения для генерации диапазона номеров.
```commandline
for card_number in card_number_generator(1, 5):
    print(card_number)

>>> 0000 0000 0000 0001
    0000 0000 0000 0002
    0000 0000 0000 0003
    0000 0000 0000 0004
    0000 0000 0000 0005
```


## Лицензия:

Проект распространяется под [лицензией MIT](LICENSE).

## Источники

- [Библиотека re](https://docs-python.ru/standart-library/modul-re-python/)
- [Руководство Markdown](https://gist.github.com/Jekins/2bf2d0638163f1294637)
- [README-файл профиля](https://habr.com/ru/articles/649363/)
- [Шаблон для README.md](https://gist.github.com/bzvyagintsev/0c4adf4403d4261808d75f9576c814c2)